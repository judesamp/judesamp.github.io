<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="copyright" content="" />
    <link type="text/plain" rel="author" href="/humans.txt" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta http-equiv="cleartype" content="on">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Jeremy Samples | A Brief Introduction to RSpec</title>

    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.0/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" type="text/css" />
    

    

    <script src="/javascripts/modernizr.js" type="text/javascript"></script>

    
  </head>
  <body class="blog blog_2014 blog_2014_05 blog_2014_05_26 blog_2014_05_26_rspec-overview">
    
    <div id="root">  
      <!-- Logo & Top Nav -->
      <nav class="top-bar">
        <ul class="title-area">
          <!-- Title Area -->
          <li class="name">
            <h1><a href="/">Jeremy Samples</a></h1>

          </li>
          <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
          <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
        </ul>
        <section class="top-bar-section">
        <!-- Left Nav Section -->
        <ul class="right">
          <li>
            <a href='mailto:judesamp@gmail.com?subject=Touching%20Base'>
              <span class='hide-for-small'><i class='icon-envelope' data-tooltip class="has-tip" title="judesamp@gmail.com. <br />Or click to send with your email client."></i>
              </span><span class='show-for-small'>Email</span>
            </a>
          </li>
          <li>
            <a href='tel:478-365-6913'>
              <span class='hide-for-small' ><i class='icon-mobile-phone' data-tooltip class="has-tip" title="478-365-6913. <br />Or just click if you're on a phone"></i>
              </span><span class='show-for-small'>Phone</span>
            </a>
          </li>
                  <li>
          <a href='http://twitter.com/judesamp'>
            <span class='hide-for-small'><i class='icon-twitter'></i>
            </span><span class='show-for-small'>Twitter</span>
          </a>
        </li>

                  <li>
          <a href='http://linkedin.com/in/jeremysamples'>
            <span class='hide-for-small'><i class='icon-linkedin'></i>
            </span><span class='show-for-small'>LinkedIn</span>
          </a>
        </li>
  
                  <li>
          <a href='http://github.com/judesamp'>
            <span class='hide-for-small'><i class='icon-github'></i>
            </span><span class='show-for-small'>GitHub</span>
          </a>
        </li>

          <li class="divider"></li>
          <li class="portfolio"><a href="/portfolio.html">Portfolio</a></li>
          <li class="divider"></li>
            <li class="resume"><a href="/resume.html">Résumé</a></li>
            <li class="divider"></li>
          <li class="blog"><a href="/blog">Blog</a></li>
        </ul>
      </nav>
    
      
    
      <!-- End Header and Nav -->

      <!-- Main page container -->

            <div class="blog_image">
    <div class="blog_image_row">
      <div class="text_holder">
        <h1 class="blog_title">My Blog</h1>
      </div>
    </div>
  </div>

  <div class="main blog_main">
    <div class="content">
      <div class="row">
  <article class="small-12 large-9 columns left">
    <h3>
      
        A Brief Introduction to RSpec
      
    </h3>

    
      <p>I was tasked with putting together an introductory piece on RSpec for The Ironyard&rsquo;s <a href="https://github.com/theironyard/Ruby-Enchiridion">Ruby-Enchiridion</a> this weekend. This is what I came up with. Enjoy!</p>

<h4>Rspec</h4>

<p>RSpec is a testing tool for the Ruby programming language. RSpec is designed to help programmers do Test-Driven Development (TDD). RSpec is a commonly used testing tool in the Rails community.</p>

<h4>Basic RSpec Setup Instructions for Rails</h4>

<ol class="markdown_ordered_list">
  <li>Add Gem to gemfile (in both developement and test groups)
    &ldquo;`
    group :development, :test do
      gem &lsquo;rspec-rails&rsquo;, &lsquo;~> 3.0.0.beta&rsquo;
    end
    &rdquo;`
  </li>
  <li>Run &lsquo;bundle install&rsquo;</li>
  <li>Initialize spec directory by running &lsquo;rails generate rspec:install&rsquo; &mdash; this will create a spec directory and put a spec_helper.rb file inside of it. This spec helper file contains setup and configuration for rspec.</li>
  <li>In the file where you&rsquo;ll be writing tests (users_controller_spec.rb, for instance), type &ldquo;require &lsquo;spec_helper&rsquo;&rdquo; at the top of the file.</li>
  <li>Now you&rsquo;re ready to start writing tests. (See tips or resources for more detailed setup info.)</li>
  <li>Runs the tests with &lsquo;rake spec.&rsquo; This will run all the tests in the spec directory. To run more specific tests, drill down with something like &lsquo;rake spec/controllers/users_controller_spec.rb&rsquo; You can also use &lsquo;rspec&rsquo; in place of the rake command.</li>
</ol>

<h4>Tips</h4>

<p>• Be sure you close all of your &lsquo;do-end&rsquo; blocks. Their lack can cause all sorts of fun confusion.</p>

<p>• When testing Rails controllers, the :assigns in </p>
<pre class="highlight text">expect(:assigns).to eq &lt;value&gt;
</pre>
<p>is basically equivalent to the variable @assigns in whatever action you&rsquo;re testing</p>

<p>• Test one thing at a time! Each test should have only one expect or should statement.</p>

<p>• Move repeated setup statements to the top of a block and make them generally available. Here is an example (notice the let statement at the top, making a user available during each of the tests nested within this block): </p>
<pre class="highlight text">describe EventsController do

  let(:user) { FactoryGirl.create(:user) }

  describe &quot;GET #index&quot; do

    it &quot;assigns collection of events&quot; do
      login(user)
      event = FactoryGirl.create(:event)
      current_user.events &lt;&lt; event
      get :index
      expect(assigns(:events)).to eq [event]
    end

    it &quot;renders the index page&quot; do
      login(user)
      get :index
      response.should render_template :index
    end

  end

end
</pre>
<p>Balance such attempts to make the tests DRY with the need to make them readable and understandable. In other words, moving setup blocks too far away from where they&rsquo;re used can lead to confusion when developers are seeing the code for the first time.</p>

<p>• Inside the spec directory, create a controllers folder where you can place your controller tests and a models folder where you can test your models. A spec directory might look like the following:</p>
<pre class="highlight text">-spec
  - controllers
    users_controller_spec.rb
  - factories
    user.rb
  - fixtures
  - models
    user_spec.rb
  - support
    devise_support.rb
  spec_helper.rb
</pre>
<h4>Resources:</h4>

<p>• <a href="https://relishapp.com/rspec">A great link</a> for rspec examples. The official spot for RSpec documentation.</p>

<p>• <a href="http://rspec.info">A link</a> with a quick intro to RSpec. Includes info on the RSpec book.</p>

<p>• Another intro to <a href="http://blog.teamtreehouse.com/an-introduction-to-rspec">testing with RSpec</a>.</p>

<p>• <a href="http://everydayrails.com/2012/03/12/testing-series-intro.html">Series on testing Rails</a> using RSpec. A little outdated (2012), but good stuff. </p>

<p>• <a href="http://everydayrails.com/2012/04/07/testing-series-rspec-controllers.html">Testing controllers</a>.</p>

<p>• <a href="http://robots.thoughtbot.com/how-we-test-rails-applications">How Thoughtbot uses RSpec</a> to test Rails.</p>

<h4>Often associated Gems</h4>

<ul>
<li>Faker</li>
<li>factoryGirl</li>
<li>Capybara</li>
<li>Guard</li>
</ul>

    

    

    
      <ul class="read_next">
        <li><a href="/blog/2014/05/02/the-ironyard-end-week-five.html"><i class='icon-caret-left'></i> The Ironyard&#58; End Week Five</a></li>
        <li>&nbsp;</li>
      </ul>

      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = "jeremysamplescomblog";
        (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
  </article>
  <aside class="small-12 large-3 columns right">
    <ul class="credit">
      <li class="time">Posted on <time datetime="2014-05-26">Monday May 26, 2014</time></li>
    </ul>
    <ul class="tags">
      
        <li><a class="tiny button secondary round" href="/blog/tags/rspec.html">rspec</a></li>
      
        <li><a class="tiny button secondary round" href="/blog/tags/ruby-enchiridion.html">Ruby-Enchiridion</a></li>
      
    </ul>
  </aside>
</div>



    </div>
  </div>

     
      <div id="root_footer"></div>
    </div>

    <!-- Footer -->
    <footer class="row" id="footer">
      <div class="content">
        <span>
        Email: <a href='mailto:judesamp@gmail.com?subject=Touching%20Base'>judesamp@gmail.com</a>
        
        | </span>

        <span>
        Call: <a href='tel:478-365-6913'>478-365-6913</a>
        
        </span>

      </div>
    </footer>

    <!--[if lt IE 9]>
    <div id="ie-warning-overlay">
      <div id="ie-warning">
        <h1>Did you know that your copy of Internet Explorer is terribly out of date?</h1>
        <p>
          To get the best possible experience using our website, we recommend that you upgrade to the latest version or use another web browser. 
          Any of the following will provide a superior experience, not only on this site, but across the web.
        </p>
        <p>Just click one of the icons below to get to the download page.</p>
        <ul>
          <li>
            <a href="http://microsoft.com/ie">
              <img alt="Download Internet Explorer" width="100" height="100" src="/images/browser_ie.gif" />
              <p>Internet Explorer 9+</p>
            </a>
          </li>
          <li>
            <a href="http://mozilla.org/firefox">
              <img alt="Download Firefox" width="100" height="100" src="/images/browser_firefox.gif" />
              <p>Firefox</p>
            </a>
          </li>
          <li>
            <a href="http://google.com/chrome">
              <img alt="Download Chrome" width="100" height="100" src="/images/browser_chrome.gif" />
              <p>Google Chrome</p>
            </a>
          </li>
          <li>
            <a href="http://apple.com/safari">
              <img alt="Download Safari" width="100" height="100" src="/images/browser_safari.gif" />
              <p>Safari</p>
            </a>
          </li>
          <li>
            <a href="http://opera.com">
              <img alt="Download Opera" width="100" height="100" src="/images/browser_opera.gif" />
              <p>Opera</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <![endif]-->

    <script>
      document.write('<script src=' +
        ('__proto__' in {} ? "/javascripts/zepto.js" : "/javascripts/jquery.js") +
        '><\/script>')
    </script>

    <!-- Javascript -->
    <script src="/javascripts/application.js" type="text/javascript"></script>
    

    <script>
      $(document).ready(function () {
        
        $(document).foundation();
      });

      // TODO: Set your Google Analytics code here
      var _gaq=[['_setAccount','UA-52206506-2'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>

  </body>
</html>

